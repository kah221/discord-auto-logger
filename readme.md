# ATLogger - Discord Bot

## 【ATLoggerとは】
→ 作業時間を記録するためのDiscordのBot（auto logger の略）
- 対象のVCへの入退場を検知して、自動で滞在時間をカウントします（ユーザ毎に並列処理）

## 【仕様概要】
- データ保存はcsvで行う
- ファイルへの書き込みは、VC退場時に滞在時間が計算された後に行う
- 自宅のミニPC（LinuxOS）にプログラムファイルを置いて常時稼働させている
- 特定のDiscordサーバーでのみの稼働を目的としている

### csvファイルに保存される内容
```
- ユーザID
- ユーザニックネーム （バリデーションで次を空文字に置き換え済み「"」「,」）
- VC入場時刻 [datetime]
- VC退場時刻 [datetime]
- 滞在時間 [timedelta]
```

## 【コマンドの使い方】
1. メッセージ入力欄に半角スラッシュ「/」を入力（コマンド入力モードに入る）
2. 引数が必要なコマンドならば、表示される欄に値を入力する
3. 送信

### __/this コマンド__
```
→ 今回の作業が開始してからどれくらい経っているかを確認する
- 使用条件：VC中
```
### __/today コマンド__
```
→ コマンドを実行した日の、その時刻までの合計作業時間を確認する
- 使用条件：VC外
```
### __/yesterday コマンド__
```
→ コマンドを実行した日の前日の合計作業時間を確認する
（日付を超えて起きている場合が多いため実装）
- 使用条件：VC外
```
### __/span コマンド__
```
→ 指定した期間の合計作業時間を確認する
- 使用条件：VC外
- 使用方法：
　①第1引数 → 開始日
　②第2引数 → 終了日
- 日付のフォーマット：
　「西暦下2桁 + 0埋め月 + 0埋め日付」の6桁の数値
　例）2025/6/9　ならば　「250609」
```
### __/check-csv コマンド__
```
→ ログが保存されているcsvファイルの状態を確認するコマンド
（ファイルサイズやエラー発生時の素早い確認のため実装）
- 使用方法：
　①任意の引数 → 最後の何行を表示するかを数値で指定（1~10の間で指定可能、未入力時デフォルト値として1）
- このコマンドは実行者以外には見えない設定になっている
```